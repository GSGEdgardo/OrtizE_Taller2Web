<div>
  <h2 class="text-center text-2xl font-bold">Visualizar Ventas</h2>

  <form [formGroup]="searchForm" class="flex space-x-4 mb-4">
    <input formControlName="query" placeholder="Buscar ventas..." class="border p-2 rounded">

    <select formControlName="category" class="border p-2 rounded">
      <option value="">Categoría</option>
      <option *ngFor="let category of categories" [value]="category">{{ category }}</option>
    </select>

    <input formControlName="minPrice" type="number" placeholder="Precio mínimo" class="border p-2 rounded">
    <input formControlName="maxPrice" type="number" placeholder="Precio máximo" class="border p-2 rounded">
  </form>

  <div *ngIf="noResultsMessage" class="text-red-500 mt-4">{{ noResultsMessage }}</div>

  <table class="table-auto w-full mt-4 border-collapse border border-gray-200" *ngIf="filteredSales.length > 0">
    <thead>
      <tr class="bg-gray-200">
        <th class="border border-gray-300 px-4 py-2">ID</th>
        <th class="border border-gray-300 px-4 py-2">Fecha de Compra</th>
        <th class="border border-gray-300 px-4 py-2">Producto</th>
        <th class="border border-gray-300 px-4 py-2">Tipo de Producto</th>
        <th class="border border-gray-300 px-4 py-2">Precio</th>
        <th class="border border-gray-300 px-4 py-2">Cantidad</th>
        <th class="border border-gray-300 px-4 py-2">Total</th>
        <th class="border border-gray-300 px-4 py-2">Usuario</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let sale of filteredSales" class="hover:bg-gray-100">
        <td class="border border-gray-300 px-4 py-2">{{ sale.id }}</td>
        <td class="border border-gray-300 px-4 py-2">{{ sale.purchaseDate | date:'short' }}</td>
        <td class="border border-gray-300 px-4 py-2">{{ sale.productName }}</td>
        <td class="border border-gray-300 px-4 py-2">{{ sale.productType }}</td>
        <td class="border border-gray-300 px-4 py-2">{{ sale.productPrice | currency }}</td>
        <td class="border border-gray-300 px-4 py-2">{{ sale.quantity }}</td>
        <td class="border border-gray-300 px-4 py-2">{{ sale.totalPrice | currency }}</td>
        <td class="border border-gray-300 px-4 py-2">{{ sale.userName }}</td>
      </tr>
    </tbody>
  </table>
</div>